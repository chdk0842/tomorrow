<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link th:href="@{/css/layout1.css}" rel="stylesheet">
    <!-- bootstrap js, popper -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jquery -->
<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<script type="text/javascript" th:src="@{/js/cookie.js}"></script>
<script th:inline="javascript">
/* modal JS */
/* 아이디 찾기 */ 
//아이디 & 스토어 값 저장하기 위한 변수
	// 아이디 값 받고 출력하는 ajax
	function findId_click() {
		var name = $("#name").val();
		var phone = $("#id_phone").val();
		
		$.ajax({
			url:"/find/info/id",
			type:"POST",
			data:{"name":name, "phone":phone} ,
			success:function(data){
				if(data == 0){
					$('#id_value').text("회원 정보를 확인해주세요!");
					$('#name').val('');
					$('#id_phone').val('');
				} else {
					$('#id_value').text(data);
					$('#name').val('');
					$('#id_phone').val('');
				}
			},
			 error:function(){
	                alert("에러입니다");
	            }
		});
	};

const modal = document.getElementById("modal")
const btnModal = document.getElementById("find_id")

btnModal.addEventListener("click", e => {
    modal.style.display = "flex"
})

    
const closeBtn = modal.querySelector(".close-area")
closeBtn.addEventListener("click", e => {
    modal.style.display = "none"
})

modal.addEventListener("click", e => {
    const evTarget = e.target
    if(evTarget.classList.contains("modal-overlay")) {
        modal.style.display = "none"
    }
})

	function opneId() {
		$("#findPassword_div").hide();
		$("#findId_div").show();
	}
	function opnepw() {
		$("#findPassword_div").show();
		$("#findId_div").hide();
	}
</script>
<style>
#modal.modal-overlay {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(1.5px);
            -webkit-backdrop-filter: blur(1.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        #modal .modal-window {
            background: rgba( 0, 0, 0, 0.70 );
            box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );
            backdrop-filter: blur( 13.5px );
            -webkit-backdrop-filter: blur( 13.5px );
            border-radius: 10px;
            border: 1px solid rgba( 255, 255, 255, 0.18 );
            width: 400px;
            height: 300px;
            position: relative;
            top: -100px;
            padding: 10px;
        }
        #modal .title {
            padding-left: 10px;
            display: inline;
            text-shadow: 1px 1px 2px gray;
            color: white;
            
        }
        #modal .title h2 {
            display: inline;
        }
        #modal .close-area {
            display: inline;
            float: right;
            padding-right: 10px;
            cursor: pointer;
            text-shadow: 1px 1px 2px gray;
            color: white;
        }
        
        #modal .content {
            margin-top: 20px;
            padding: 0px 10px;
            text-shadow: 1px 1px 2px gray;
            color: white;
        }
.dropbtn_icon{
  font-family : 'Material Icons';
}
.dropbtn{
  border : 1px solid rgb(37, 37, 37);
  border-radius : 4px;
  background-color: #f5f5f5;
  font-weight: 400;
  color : rgb(37, 37, 37);
  padding : 12px;
  width :200px;
  text-align: left;
  cursor : pointer;
  font-size : 12px;
}
.dropdown-content{
  display : none;
  position : absolute;
  z-index : 1; /*다른 요소들보다 앞에 배치*/
  font-weight: 400;
  background-color: #f9f9f9;
  min-width : 200px;
}

.dropdown-content a{
  display : block;
  text-decoration : none;
  color : rgb(37, 37, 37);
  font-size: 12px;
  padding : 12px 20px;
}

.dropdown-content a:hover{
  background-color : #ececec
}

.dropdown:hover .dropdown-content {
  display: block;
}
</style>
</head>
<body>
    <div class="container-lg find_info_page" id="findId_div">
        <form action="/find/info/id" method="post">
        	<div class="login-total">
	            <div class="login-logo">
	                <img src="/images/logo.png" style="width:200px;" />
	            </div>
				<div class="find_total">
					<div class="buttons">
						<ul class="nav nav-pills">
					        <li class="nav-item">
					        	<a class="nav-link" onclick="opneId()">아이디 찾기</a>
					        </li>
					        <li class="nav-item">
					        	<a class="nav-link" onclick="opnepw()">비밀번호 찾기</a>
					        </li>
				     	</ul>
					</div>
					<div class="find_form">
						<p>가입했던 정보를 입력하세요</p>
						<div class="input_section input_section_one">
							<p>이름</p>
							<input type="text" placeholder="이름을 입력하세요" name="name" id="name" required />
						</div>
						<div class="input_section input_section_two">
							<p>전화번호</p>
							<input type="text" placeholder="전화번호를 입력하세요 (010-XXXX-XXXX)" name="id_phone" id="id_phone" required />
						</div>
					</div>
					<div class="under_buttons">
						<div><a href="/member/login">로그인</a></div>
						<div>|</div>
						<div class="dropdown" style="margin-left:20px; width: 100px;">
						      <span class="dropbtn" style="border: none; background: white; font-size:0.9em; font-weight: bold;">회원가입</span>
						      <div class="dropdown-content" style="margin-top: 10px">
							        <a href="/member/join" style="text-align: left">개인회원</a>
							        <a href="/admin/join" style="text-align: left">기업회원</a>
						      </div>
					    </div>
						<div>
						<input type="submit" value="아이디 찾기" data-toggle="modal" data-target="#exampleModal" id="find_id"></div>
					</div>
				</div>
	        </div>
	        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </form>
     </div>
     <!-- 패스워드 -->
     <div class="container-lg find_info_page" id="findPassword_div" style="display: none;">
        <form action="/find/info/password" method="post">
        	<div class="login-total">
	            <div class="login-logo">
	                <img src="/images/logo.png" style="width:200px;" />
	            </div>
				<div class="find_total">
					<div class="buttons">
						<ul class="nav nav-pills">
					        <li class="nav-item">
					        	<a class="nav-link" onclick="opneId()">아이디 찾기</a>
					        </li>
					        <li class="nav-item">
					        	<a class="nav-link" onclick="opnepw()">비밀번호 찾기</a>
					        </li>
				     	</ul>
					</div>
					<div class="find_form">
						<p>가입했던 정보를 입력하세요</p>
						<div class="input_section input_section_one">
								<p>아이디</p>
								<input type="text" placeholder="아이디를 입력하세요"/>
						</div>
						<div class="input_section input_section_two">
								<p>전화번호</p>
								<input type="text" placeholder="전화번호를 입력하세요"/>
						</div>
					</div>
					<div class="under_buttons">
						<div><a href="/member/login">로그인</a></div>
						<div>|</div>
						<div class="dropdown" style="margin-left:20px; width: 100px;">
						      <span class="dropbtn" style="border: none; background: white; font-size:0.9em; font-weight: bold;">회원가입</span>
						      <div class="dropdown-content" style="margin-top: 10px">
							        <a href="/member/join" style="text-align: left">개인회원</a>
							        <a href="/admin/join" style="text-align: left">기업회원</a>
						      </div>
					    </div>
						<div><input type="submit" value="비밀번호 찾기"></div>
					</div>
				</div>
	        </div>
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </form>
    </div>
    <!-- Modal Window (왜 안뜨는 거야 증말....) -->
    <div id="modal" class="modal-overlay">
        <div class="modal-window">
            <div class="title">
                <h2>아이디 조회 결과</h2>
            </div>
            <div class="close-area">X</div>
            <div class="content" id="id_value"></div>
        </div>
    </div>
</body>
</html>